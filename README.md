# üîó –°–µ—Ä–≤–∏—Å —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è —Å—Å—ã–ª–æ–∫ (URL Shortener)

–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è —Å—Å—ã–ª–æ–∫ —Å –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π –∫–ª–∏–∫–æ–≤, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –Ω–∞ **NestJS + TypeORM + PostgreSQL** (backend) –∏ **React + MUI** (frontend).\
–ü—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∏—Ä–æ–≤–∞–Ω —Å –ø–æ–º–æ—â—å—é **Docker Compose**.

---

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ—Ä–æ—Ç–∫–∏—Ö —Å—Å—ã–ª–æ–∫ —Å –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º –∞–ª–∏–∞—Å–æ–º –∏ —Å—Ä–æ–∫–æ–º –¥–µ–π—Å—Ç–≤–∏—è
- üîÅ –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ –∫–æ—Ä–æ—Ç–∫–æ–π —Å—Å—ã–ª–∫–µ
- üìä –ü—Ä–æ—Å–º–æ—Ç—Ä –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –ø–æ –∫–∞–∂–¥–æ–π —Å—Å—ã–ª–∫–µ (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª–∏–∫–æ–≤, –ø–æ—Å–ª–µ–¥–Ω–∏–µ IP)
- ‚ùå –£–¥–∞–ª–µ–Ω–∏–µ —Å—Å—ã–ª–æ–∫
- üíª –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∏ —É–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞ React

---

## ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

```bash
git clone https://github.com/your-username/url-shortener.git
cd url-shortener
```

### 2. –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose

> ‚ö†Ô∏è –í–Ω–∏–º–∞–Ω–∏–µ: –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –≤ –ë–î –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ (volume –ø–µ—Ä–µ—Å–æ–∑–¥–∞—ë—Ç—Å—è).

```bash
docker-compose down -v   # –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–µ volume –ë–î (–≤–∞–∂–Ω–æ –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Å—Ö–µ–º—ã!)
docker-compose up --build
```

- üîå Backend: [http://localhost:3000](http://localhost:3000)
- üåê Frontend: [http://localhost:3001](http://localhost:3001)

---

## üõ† –í–∞–∂–Ω–æ: –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —Å—Å—ã–ª–æ–∫ —Å –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π

–ò–Ω–æ–≥–¥–∞ –ø—Ä–∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏–∏ –ë–î –≤–Ω–µ—à–Ω–∏–π –∫–ª—é—á –≤ —Ç–∞–±–ª–∏—Ü–µ `click` –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω –±–µ–∑ –æ–ø—Ü–∏–∏ `ON DELETE CASCADE`. –≠—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —Å—Å—ã–ª–æ–∫ —Å –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π.

–ß—Ç–æ–±—ã –∏—Å–ø—Ä–∞–≤–∏—Ç—å:

1. –ó–∞–π–¥–∏—Ç–µ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –ë–î:

```bash
docker exec -it url-shortener-db-1 psql -U postgres -d url_shortener
```

2. –í–Ω—É—Ç—Ä–∏ `psql` –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã:

```sql
ALTER TABLE click DROP CONSTRAINT "FK_c2f71156bfb882effa9a8471495";
ALTER TABLE click ADD CONSTRAINT "FK_c2f71156bfb882effa9a8471495"
FOREIGN KEY ("urlId") REFERENCES url(id) ON DELETE CASCADE;
```

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
url-shortener/
‚îú‚îÄ‚îÄ backend/       # –°–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å (NestJS, TypeORM, PostgreSQL)
‚îú‚îÄ‚îÄ frontend/      # –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è —á–∞—Å—Ç—å (React, MUI)
‚îú‚îÄ‚îÄ docker-compose.yml
```

---

## ‚öôÔ∏è –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —É–∂–µ –∑–∞–¥–∞–Ω—ã –≤ `docker-compose.yml`.

### –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –±–µ–∑ Docker:

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –ø–∞–ø–∫–µ `backend/`:

```env
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_USER=postgres
DATABASE_PASSWORD=postgres
DATABASE_NAME=url_shortener
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### Backend

- –Æ–Ω–∏—Ç-—Ç–µ—Å—Ç—ã:

```bash
cd backend
npm run test
```

- E2E-—Ç–µ—Å—Ç—ã:

```bash
npm run test:e2e
```

### Frontend

```bash
cd frontend
npm test
```

---

## üîß –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

- –£–¥–∞–ª–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –ë–î (volume):

```bash
docker-compose down -v
```

- –ü–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:

```bash
docker-compose up --build
```

---

## üìå –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –î–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è —Å—Å—ã–ª–æ–∫ —Å –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ** –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã —Å `ON DELETE CASCADE` (—Å–º. –≤—ã—à–µ).
- –í—Å–µ —Å–≤—è–∑–∏ –∏ –∫–∞—Å–∫–∞–¥–Ω—ã–µ —É–¥–∞–ª–µ–Ω–∏—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –Ω–∞ —É—Ä–æ–≤–Ω–µ –ë–î –∏ TypeORM.

---

## üë§ –ê–≤—Ç–æ—Ä—ã

- **–î–∞–Ω–∏–ª –ë—É—Ç–∞–∫–æ–≤**

---
